<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>å¸–å­è¯¦æƒ… - Accessibility Navigator</title>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../styles/global.css">
  
  <style>
    .post-media {
      position: relative;
      width: 100%;
      height: 280px;
      background: var(--bg-secondary);
    }
    
    .post-video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .post-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      cursor: pointer;
      transition: transform var(--duration-normal) var(--ease-out);
    }
    
    .post-image.zoomed {
      transform: scale(2);
      cursor: zoom-out;
    }
    
    .media-controls {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(transparent, rgba(0,0,0,0.7));
      padding: var(--space-lg) var(--space-md) var(--space-md);
      color: white;
    }
    
    .play-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.3);
      opacity: 0;
      transition: opacity var(--duration-fast) var(--ease-out);
    }
    
    .play-overlay.show {
      opacity: 1;
    }
    
    .play-button {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: rgba(0,0,0,0.8);
      color: white;
      border: 2px solid white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      cursor: pointer;
    }
    
    .facility-tags {
      display: flex;
      gap: var(--space-sm);
      flex-wrap: wrap;
      margin-bottom: var(--space-md);
    }
    
    .facility-tag {
      background: rgba(255,255,255,0.2);
      color: white;
      font-size: var(--font-size-xs);
      padding: 4px 8px;
      border-radius: 12px;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    .post-content {
      padding: var(--space-lg);
    }
    
    .post-header {
      display: flex;
      align-items: center;
      gap: var(--space-md);
      margin-bottom: var(--space-lg);
    }
    
    .user-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid var(--border-color);
    }
    
    .user-info {
      flex: 1;
    }
    
    .user-name {
      font-size: var(--font-size-lg);
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 2px;
    }
    
    .post-meta {
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
      display: flex;
      align-items: center;
      gap: var(--space-sm);
    }
    
    .follow-button {
      padding: var(--space-sm) var(--space-lg);
      background: var(--accent-blue);
      color: white;
      border: none;
      border-radius: 20px;
      font-size: var(--font-size-sm);
      font-weight: 600;
      cursor: pointer;
      transition: all var(--duration-fast) var(--ease-out);
    }
    
    .follow-button:hover {
      background: #0056cc;
    }
    
    .follow-button.following {
      background: var(--bg-tertiary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }
    
    .post-title {
      font-size: var(--font-size-xl);
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: var(--space-md);
      line-height: var(--line-height-tight);
    }
    
    .post-description {
      font-size: var(--font-size-md);
      color: var(--text-primary);
      line-height: var(--line-height-relaxed);
      margin-bottom: var(--space-lg);
    }
    
    .location-info {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      padding: var(--space-md);
      background: var(--bg-secondary);
      border-radius: 12px;
      margin-bottom: var(--space-lg);
      cursor: pointer;
      transition: background var(--duration-fast) var(--ease-out);
    }
    
    .location-info:hover {
      background: var(--bg-tertiary);
    }
    
    .location-icon {
      color: var(--accent-blue);
      font-size: 18px;
    }
    
    .location-text {
      flex: 1;
      font-size: var(--font-size-md);
      font-weight: 600;
      color: var(--text-primary);
    }
    
    .accessibility-rating {
      margin-bottom: var(--space-lg);
    }
    
    .rating-title {
      font-size: var(--font-size-lg);
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: var(--space-md);
      display: flex;
      align-items: center;
      gap: var(--space-sm);
    }
    
    .rating-items {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-md);
    }
    
    .rating-item {
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: var(--space-lg);
      text-align: center;
    }
    
    .rating-label {
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
      margin-bottom: var(--space-sm);
    }
    
    .rating-stars {
      font-size: 18px;
      color: var(--accent-orange);
      margin-bottom: var(--space-sm);
    }
    
    .rating-text {
      font-size: var(--font-size-xs);
      color: var(--text-tertiary);
    }
    
    .post-actions {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--space-lg);
      border-top: 1px solid var(--border-color);
      border-bottom: 1px solid var(--border-color);
      background: var(--card-bg);
      position: sticky;
      bottom: calc(var(--tab-bar-height));
      z-index: 10;
    }
    
    .action-group {
      display: flex;
      gap: var(--space-lg);
    }
    
    .action-button {
      display: flex;
      align-items: center;
      gap: var(--space-xs);
      background: none;
      border: none;
      color: var(--text-secondary);
      cursor: pointer;
      font-size: var(--font-size-sm);
      padding: var(--space-sm);
      border-radius: 20px;
      transition: all var(--duration-fast) var(--ease-out);
    }
    
    .action-button:hover {
      background: var(--bg-secondary);
    }
    
    .action-button.active {
      color: var(--accent-red);
    }
    
    .action-button.active.bookmark {
      color: var(--accent-orange);
    }
    
    .go-button {
      background: var(--accent-blue);
      color: white;
      padding: var(--space-md) var(--space-xl);
      border-radius: 24px;
      border: none;
      font-size: var(--font-size-md);
      font-weight: 600;
      cursor: pointer;
      transition: all var(--duration-fast) var(--ease-out);
    }
    
    .go-button:hover {
      background: #0056cc;
      transform: translateY(-1px);
    }
    
    .comments-section {
      background: var(--bg-primary);
    }
    
    .comments-header {
      padding: var(--space-lg) var(--space-md);
      background: var(--card-bg);
      border-bottom: 1px solid var(--border-color);
      font-size: var(--font-size-lg);
      font-weight: 600;
      color: var(--text-primary);
    }
    
    .comment-input-area {
      padding: var(--space-md);
      background: var(--card-bg);
      border-bottom: 8px solid var(--bg-secondary);
    }
    
    .comment-input-wrapper {
      display: flex;
      gap: var(--space-md);
      align-items: flex-start;
    }
    
    .comment-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      object-fit: cover;
      flex-shrink: 0;
    }
    
    .comment-input {
      flex: 1;
      padding: var(--space-md);
      border: 1px solid var(--border-color);
      border-radius: 20px;
      background: var(--bg-secondary);
      font-size: var(--font-size-md);
      color: var(--text-primary);
      resize: none;
      min-height: 40px;
      max-height: 120px;
    }
    
    .comment-input:focus {
      outline: none;
      border-color: var(--accent-blue);
      background: var(--bg-primary);
    }
    
    .comment-submit {
      background: var(--accent-blue);
      color: white;
      border: none;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all var(--duration-fast) var(--ease-out);
    }
    
    .comment-submit:hover {
      background: #0056cc;
    }
    
    .comment-submit:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .comment-item {
      padding: var(--space-lg) var(--space-md);
      border-bottom: 1px solid var(--border-color);
      background: var(--card-bg);
    }
    
    .comment-header {
      display: flex;
      align-items: center;
      gap: var(--space-md);
      margin-bottom: var(--space-sm);
    }
    
    .comment-user-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      object-fit: cover;
    }
    
    .comment-user-name {
      font-size: var(--font-size-sm);
      font-weight: 600;
      color: var(--text-primary);
    }
    
    .comment-time {
      font-size: var(--font-size-xs);
      color: var(--text-secondary);
      margin-left: auto;
    }
    
    .comment-content {
      font-size: var(--font-size-sm);
      color: var(--text-primary);
      line-height: var(--line-height-relaxed);
      margin-bottom: var(--space-sm);
    }
    
    .comment-actions {
      display: flex;
      gap: var(--space-lg);
    }
    
    .comment-action {
      display: flex;
      align-items: center;
      gap: var(--space-xs);
      background: none;
      border: none;
      color: var(--text-tertiary);
      font-size: var(--font-size-xs);
      cursor: pointer;
      padding: 4px;
    }
    
    .comment-action:hover {
      color: var(--text-secondary);
    }
    
    .comment-action.active {
      color: var(--accent-red);
    }
    
    .reply-indent {
      margin-left: var(--space-xl);
      border-left: 2px solid var(--border-color);
      padding-left: var(--space-md);
    }
  </style>
</head>
<body>
  <div class="device-container">
    <!-- Status Bar -->
    <div class="status-bar">
      <span class="status-time">9:41</span>
      <div class="status-indicators">
        <i class="fas fa-signal" style="font-size: 12px;"></i>
        <i class="fas fa-wifi" style="font-size: 12px;"></i>
        <i class="fas fa-battery-three-quarters" style="font-size: 12px;"></i>
      </div>
    </div>
    
    <!-- Navigation -->
    <div class="nav-bar">
      <button class="nav-button" onclick="history.back()" aria-label="è¿”å›">
        <i class="fas fa-arrow-left"></i>
      </button>
      <div class="nav-title">å¸–å­è¯¦æƒ…</div>
      <button class="nav-button" onclick="showMoreOptions()" aria-label="æ›´å¤šé€‰é¡¹">
        <i class="fas fa-ellipsis-vertical"></i>
      </button>
    </div>
    
    <!-- Content -->
    <div class="content">
      <!-- Media Section -->
      <div class="post-media">
        <video 
          id="postVideo"
          class="post-video" 
          muted 
          loop 
          poster="https://images.unsplash.com/photo-1544027993-37dbfe43562a?w=400&h=280&fit=crop"
          onclick="togglePlay()"
        >
          <source src="https://sample-videos.com/zip/10/mp4/SampleVideo_640x360_2mb.mp4" type="video/mp4">
          æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
        </video>
        
        <div class="play-overlay show" id="playOverlay" onclick="togglePlay()">
          <div class="play-button">
            <i class="fas fa-play" id="playIcon"></i>
          </div>
        </div>
        
        <div class="media-controls">
          <div class="facility-tags">
            <span class="facility-tag">
              <i class="fas fa-wheelchair"></i>
              è½®æ¤…é€šè¡Œ
            </span>
            <span class="facility-tag">
              <i class="fas fa-elevator"></i>
              ç”µæ¢¯å¯ç”¨
            </span>
            <span class="facility-tag">
              <i class="fas fa-volume-up"></i>
              è¯­éŸ³æç¤º
            </span>
          </div>
        </div>
      </div>
      
      <!-- Post Content -->
      <div class="post-content">
        <!-- User Header -->
        <div class="post-header">
          <img 
            src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face" 
            alt="å¼ æ˜çš„å¤´åƒ" 
            class="user-avatar"
          >
          <div class="user-info">
            <div class="user-name">å¼ æ˜</div>
            <div class="post-meta">
              <span>è½®æ¤…ç”¨æˆ·</span>
              <span>â€¢</span>
              <span>2å°æ—¶å‰</span>
              <span>â€¢</span>
              <i class="fas fa-map-marker-alt"></i>
              <span>åŒ—äº¬å¸‚æœé˜³åŒº</span>
            </div>
          </div>
          <button class="follow-button" onclick="toggleFollow(this)">
            + å…³æ³¨
          </button>
        </div>
        
        <!-- Post Title -->
        <h1 class="post-title">å›½è´¸åœ°é“ç«™æ–°å¢æ— éšœç¢è®¾æ–½ä½“éªŒåˆ†äº«</h1>
        
        <!-- Post Description -->
        <p class="post-description">
          ä»Šå¤©ä½“éªŒäº†å›½è´¸ç«™æ–°æ”¹é€ çš„æ— éšœç¢é€šé“ï¼Œä»åœ°é¢åˆ°ç«™å°å…¨ç¨‹æ— éšœç¢ï¼Œç”µæ¢¯å®½æ•ä¸”æœ‰è¯­éŸ³æç¤ºï¼Œè½®æ¤…ç”¨æˆ·å‡ºè¡Œå¾ˆæ–¹ä¾¿ï¼
          
          æ•´ä¸ªé€šé“è®¾è®¡å¾—å¾ˆè´´å¿ƒï¼Œå¡åº¦æ§åˆ¶åœ¨1:12ä»¥å†…ï¼Œéå¸¸å¹³ç¼“ã€‚ç”µæ¢¯æŒ‰é’®ä½ç½®é€‚ä¸­ï¼Œç›²æ–‡æ ‡è¯†æ¸…æ™°ã€‚æœ€è®©æˆ‘å°è±¡æ·±åˆ»çš„æ˜¯è¯­éŸ³æ’­æŠ¥ç³»ç»Ÿï¼Œä¼šåŠæ—¶æé†’æ¥¼å±‚ä¿¡æ¯å’Œå®‰å…¨æ³¨æ„äº‹é¡¹ã€‚
          
          å¸Œæœ›æ›´å¤šåœ°é“ç«™éƒ½èƒ½æœ‰è¿™æ ·çš„æ— éšœç¢æ”¹é€ ï¼Œè®©æˆ‘ä»¬çš„å‡ºè¡Œæ›´åŠ ä¾¿åˆ©ï¼
        </p>
        
        <!-- Location -->
        <div class="location-info" onclick="showLocation()">
          <i class="fas fa-map-marker-alt location-icon"></i>
          <span class="location-text">å›½è´¸åœ°é“ç«™ A å‡ºå£</span>
          <i class="fas fa-chevron-right" style="color: var(--text-tertiary);"></i>
        </div>
        
        <!-- Accessibility Rating -->
        <div class="accessibility-rating">
          <div class="rating-title">
            <i class="fas fa-star"></i>
            æ— éšœç¢è¯„åˆ†
          </div>
          <div class="rating-items">
            <div class="rating-item">
              <div class="rating-label">å¡åº¦å‹å¥½åº¦</div>
              <div class="rating-stars">â˜…â˜…â˜…â˜…â˜…</div>
              <div class="rating-text">ä¼˜ç§€ (â‰¤5%)</div>
            </div>
            <div class="rating-item">
              <div class="rating-label">è·¯ç¼˜é«˜åº¦</div>
              <div class="rating-stars">â˜…â˜…â˜…â˜…â˜…</div>
              <div class="rating-text">ä¼˜ç§€ (â‰¤2cm)</div>
            </div>
            <div class="rating-item">
              <div class="rating-label">é€šé“å®½åº¦</div>
              <div class="rating-stars">â˜…â˜…â˜…â˜…â˜†</div>
              <div class="rating-text">è‰¯å¥½ (â‰¥90cm)</div>
            </div>
            <div class="rating-item">
              <div class="rating-label">è®¾æ–½å®Œå¤‡</div>
              <div class="rating-stars">â˜…â˜…â˜…â˜…â˜…</div>
              <div class="rating-text">å®Œå¤‡é½å…¨</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Actions -->
      <div class="post-actions">
        <div class="action-group">
          <button class="action-button ripple" onclick="toggleLike(this)" aria-label="ç‚¹èµ">
            <i class="far fa-heart"></i>
            <span>234</span>
          </button>
          <button class="action-button" onclick="focusComment()" aria-label="è¯„è®º">
            <i class="far fa-comment"></i>
            <span>45</span>
          </button>
          <button class="action-button" onclick="sharePost()" aria-label="åˆ†äº«">
            <i class="fas fa-share"></i>
          </button>
          <button class="action-button bookmark ripple" onclick="toggleBookmark(this)" aria-label="æ”¶è—">
            <i class="far fa-bookmark"></i>
          </button>
        </div>
        <button class="go-button" onclick="showRoute()">å»è¿™é‡Œ</button>
      </div>
      
      <!-- Comments Section -->
      <div class="comments-section">
        <div class="comments-header">
          <i class="fas fa-comment"></i>
          å…¨éƒ¨è¯„è®º (45)
        </div>
        
        <!-- Comment Input -->
        <div class="comment-input-area">
          <div class="comment-input-wrapper">
            <img 
              src="https://images.unsplash.com/photo-1494790108755-2616b612b096?w=72&h=72&fit=crop&crop=face"
              alt="æˆ‘çš„å¤´åƒ"
              class="comment-avatar"
            >
            <textarea 
              class="comment-input" 
              placeholder="åˆ†äº«æ‚¨çš„æƒ³æ³•..."
              id="commentInput"
              oninput="updateSubmitButton()"
              onkeydown="handleCommentKeyDown(event)"
            ></textarea>
            <button class="comment-submit" id="commentSubmit" onclick="submitComment()" disabled>
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        </div>
        
        <!-- Comments List -->
        <div class="comment-item">
          <div class="comment-header">
            <img 
              src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=64&h=64&fit=crop&crop=face"
              alt="ç‹ç£Šçš„å¤´åƒ"
              class="comment-user-avatar"
            >
            <span class="comment-user-name">ç‹ç£Š</span>
            <span class="comment-time">1å°æ—¶å‰</span>
          </div>
          <div class="comment-content">
            è°¢è°¢åˆ†äº«ï¼æˆ‘ä¹Ÿæ˜¯è½®æ¤…ç”¨æˆ·ï¼Œä¸€ç›´æ‹…å¿ƒå›½è´¸ç«™çš„æ— éšœç¢è®¾æ–½ã€‚çœ‹åˆ°è¿™ä¸ªæ”¹é€ çœŸçš„å¾ˆå¼€å¿ƒï¼Œå‡†å¤‡æ˜å¤©å°±å»ä½“éªŒä¸€ä¸‹ã€‚
          </div>
          <div class="comment-actions">
            <button class="comment-action" onclick="likeComment(this)">
              <i class="far fa-heart"></i>
              <span>12</span>
            </button>
            <button class="comment-action" onclick="replyComment('ç‹ç£Š')">
              <i class="far fa-comment"></i>
              <span>å›å¤</span>
            </button>
          </div>
        </div>
        
        <!-- Reply -->
        <div class="comment-item reply-indent">
          <div class="comment-header">
            <img 
              src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=64&h=64&fit=crop&crop=face"
              alt="å¼ æ˜çš„å¤´åƒ"
              class="comment-user-avatar"
            >
            <span class="comment-user-name">å¼ æ˜</span>
            <span class="comment-time">30åˆ†é’Ÿå‰</span>
          </div>
          <div class="comment-content">
            <span style="color: var(--accent-blue);">@ç‹ç£Š</span> å»ºè®®å·¥ä½œæ—¥ä¸‹åˆå»ï¼Œäººç›¸å¯¹å°‘ä¸€äº›ï¼Œä½“éªŒä¼šæ›´å¥½ã€‚è®°å¾—ä»Aå‡ºå£è¿›ï¼Œé‚£é‡Œçš„å¡é“æœ€å¹³ç¼“ï¼
          </div>
          <div class="comment-actions">
            <button class="comment-action" onclick="likeComment(this)">
              <i class="far fa-heart"></i>
              <span>8</span>
            </button>
            <button class="comment-action" onclick="replyComment('å¼ æ˜')">
              <i class="far fa-comment"></i>
              <span>å›å¤</span>
            </button>
          </div>
        </div>
        
        <div class="comment-item">
          <div class="comment-header">
            <img 
              src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=64&h=64&fit=crop&crop=face"
              alt="æåçš„å¤´åƒ"
              class="comment-user-avatar"
            >
            <span class="comment-user-name">æå</span>
            <span class="comment-time">2å°æ—¶å‰</span>
          </div>
          <div class="comment-content">
            ç»ˆäºæœ‰äººè¯¦ç»†ä»‹ç»å›½è´¸ç«™çš„æ— éšœç¢è®¾æ–½äº†ï¼æˆ‘å¦ˆå¦ˆè¡ŒåŠ¨ä¸ä¾¿ï¼Œä¸€ç›´ä¸æ•¢å¸¦å¥¹ååœ°é“ã€‚è¿™ä¸ªåˆ†äº«å¤ªåŠæ—¶äº†ğŸ‘
          </div>
          <div class="comment-actions">
            <button class="comment-action active" onclick="likeComment(this)">
              <i class="fas fa-heart"></i>
              <span>25</span>
            </button>
            <button class="comment-action" onclick="replyComment('æå')">
              <i class="far fa-comment"></i>
              <span>å›å¤</span>
            </button>
          </div>
        </div>
        
        <!-- More comments indicator -->
        <div style="padding: var(--space-lg); text-align: center;">
          <button onclick="loadMoreComments()" style="color: var(--accent-blue); background: none; border: none; font-size: var(--font-size-sm);">
            æŸ¥çœ‹æ›´å¤šè¯„è®º (32æ¡)
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <script src="../scripts/app.js"></script>
  <script>
    // Video controls
    function togglePlay() {
      const video = document.getElementById('postVideo');
      const overlay = document.getElementById('playOverlay');
      const icon = document.getElementById('playIcon');
      
      if (video.paused) {
        video.play();
        overlay.classList.remove('show');
      } else {
        video.pause();
        overlay.classList.add('show');
      }
    }
    
    // Follow button
    function toggleFollow(button) {
      if (button.classList.contains('following')) {
        button.classList.remove('following');
        button.textContent = '+ å…³æ³¨';
      } else {
        button.classList.add('following');
        button.textContent = 'å·²å…³æ³¨';
      }
    }
    
    // Like functionality
    function toggleLike(button) {
      const icon = button.querySelector('i');
      const count = button.querySelector('span');
      const currentCount = parseInt(count.textContent);
      
      if (button.classList.contains('active')) {
        button.classList.remove('active');
        icon.className = 'far fa-heart';
        count.textContent = currentCount - 1;
      } else {
        button.classList.add('active');
        icon.className = 'fas fa-heart';
        count.textContent = currentCount + 1;
        
        // Animate
        if (window.accessibilityApp) {
          window.accessibilityApp.animateLike(button);
        }
      }
    }
    
    // Bookmark functionality
    function toggleBookmark(button) {
      const icon = button.querySelector('i');
      
      if (button.classList.contains('active')) {
        button.classList.remove('active');
        icon.className = 'far fa-bookmark';
      } else {
        button.classList.add('active');
        icon.className = 'fas fa-bookmark';
        
        // Animate
        if (window.accessibilityApp) {
          window.accessibilityApp.animateCollect(button);
        }
      }
    }
    
    // Comment functionality
    function updateSubmitButton() {
      const input = document.getElementById('commentInput');
      const button = document.getElementById('commentSubmit');
      
      button.disabled = input.value.trim().length === 0;
    }
    
    function handleCommentKeyDown(event) {
      if (event.key === 'Enter' && !event.shiftKey) {
        event.preventDefault();
        submitComment();
      }
    }
    
    function submitComment() {
      const input = document.getElementById('commentInput');
      const content = input.value.trim();
      
      if (!content) return;
      
      // Add comment to list (simulate)
      const comment = createCommentElement('æˆ‘', content, 'åˆšåˆš');
      const commentsList = document.querySelector('.comments-section');
      const inputArea = commentsList.querySelector('.comment-input-area');
      
      inputArea.insertAdjacentElement('afterend', comment);
      
      // Clear input
      input.value = '';
      updateSubmitButton();
      
      // Update comment count
      const commentCount = document.querySelector('.comments-header');
      const currentCount = parseInt(commentCount.textContent.match(/\d+/)[0]);
      commentCount.innerHTML = `<i class="fas fa-comment"></i> å…¨éƒ¨è¯„è®º (${currentCount + 1})`;
      
      // Update action button count
      const actionCount = document.querySelector('.action-button[onclick="focusComment()"] span');
      actionCount.textContent = parseInt(actionCount.textContent) + 1;
    }
    
    function createCommentElement(name, content, time) {
      const div = document.createElement('div');
      div.className = 'comment-item';
      div.innerHTML = `
        <div class="comment-header">
          <img 
            src="https://images.unsplash.com/photo-1494790108755-2616b612b096?w=64&h=64&fit=crop&crop=face"
            alt="${name}çš„å¤´åƒ"
            class="comment-user-avatar"
          >
          <span class="comment-user-name">${name}</span>
          <span class="comment-time">${time}</span>
        </div>
        <div class="comment-content">${content}</div>
        <div class="comment-actions">
          <button class="comment-action" onclick="likeComment(this)">
            <i class="far fa-heart"></i>
            <span>0</span>
          </button>
          <button class="comment-action" onclick="replyComment('${name}')">
            <i class="far fa-comment"></i>
            <span>å›å¤</span>
          </button>
        </div>
      `;
      return div;
    }
    
    function focusComment() {
      document.getElementById('commentInput').focus();
    }
    
    function likeComment(button) {
      const icon = button.querySelector('i');
      const count = button.querySelector('span');
      const currentCount = parseInt(count.textContent);
      
      if (button.classList.contains('active')) {
        button.classList.remove('active');
        icon.className = 'far fa-heart';
        count.textContent = currentCount - 1;
      } else {
        button.classList.add('active');
        icon.className = 'fas fa-heart';
        count.textContent = currentCount + 1;
      }
    }
    
    function replyComment(username) {
      const input = document.getElementById('commentInput');
      input.value = `@${username} `;
      input.focus();
      // Move cursor to end
      input.setSelectionRange(input.value.length, input.value.length);
    }
    
    function loadMoreComments() {
      alert('åŠ è½½æ›´å¤šè¯„è®º...');
    }
    
    // Other actions
    function showMoreOptions() {
      alert('æ›´å¤šé€‰é¡¹ï¼šä¸¾æŠ¥ã€åˆ†äº«åˆ°å…¶ä»–å¹³å°ç­‰');
    }
    
    function sharePost() {
      if (navigator.share) {
        navigator.share({
          title: 'å›½è´¸åœ°é“ç«™æ–°å¢æ— éšœç¢è®¾æ–½ä½“éªŒåˆ†äº«',
          text: 'å‘ç°äº†ä¸€ä¸ªå¾ˆæ£’çš„æ— éšœç¢è®¾æ–½æ”¹é€ ï¼',
          url: window.location.href
        });
      } else {
        alert('åˆ†äº«é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
      }
    }
    
    function showLocation() {
      alert('æ‰“å¼€åœ°å›¾ï¼šæŸ¥çœ‹å›½è´¸åœ°é“ç«™ A å‡ºå£ä½ç½®');
    }
    
    function showRoute() {
      window.location.href = 'route_preview.html';
    }
    
    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      // Auto-play video on load (if allowed)
      const video = document.getElementById('postVideo');
      video.play().catch(e => {
        console.log('Auto-play prevented');
      });
    });
  </script>
</body>
</html>